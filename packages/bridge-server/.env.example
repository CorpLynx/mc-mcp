# Minecraft MCP Bridge Server - Environment Configuration
# Copy this file to .env and configure with your values

# ============================================================================
# Server Configuration
# ============================================================================

# Port for the WebSocket server to listen on
# Both MCP Server and Minecraft Mod connect to this port
# Default: 8080
PORT=8080

# ============================================================================
# Authentication
# ============================================================================

# Comma-separated list of valid authentication tokens for MCP Server connections
# Each MCP Server instance should use one of these tokens
# Use strong, randomly generated tokens in production
# Example: token1,token2,token3
MCP_AUTH_TOKENS=mcp-token-1,mcp-token-2

# Authentication token for Minecraft Mod connections
# Must match the auth_token configured in minecraft-mcp-bridge.toml
# Use a strong, randomly generated token in production
MINECRAFT_AUTH_TOKEN=minecraft-token-here

# ============================================================================
# Message Queue Configuration
# ============================================================================

# Maximum number of messages to queue per client when offline
# Messages exceeding this limit will be dropped (oldest first)
# Helps prevent memory exhaustion if a client is offline for extended periods
# Default: 1000
MESSAGE_QUEUE_SIZE=1000

# ============================================================================
# Connection Health Monitoring
# ============================================================================

# Interval for sending heartbeat/ping messages in milliseconds
# Used to detect dead connections and trigger cleanup
# Default: 30000 (30 seconds)
HEARTBEAT_INTERVAL=30000

# Connection timeout in milliseconds
# Connections that don't respond to heartbeat within this time are closed
# Should be greater than HEARTBEAT_INTERVAL
# Default: 60000 (60 seconds)
# CONNECTION_TIMEOUT=60000

# ============================================================================
# Logging Configuration
# ============================================================================

# Log level for the Bridge Server
# Options: debug, info, warn, error
# - debug: Detailed logging including all message routing
# - info: General information about connections and operations (recommended)
# - warn: Warning messages about potential issues
# - error: Only error messages
# Default: info
LOG_LEVEL=info

# ============================================================================
# Performance Tuning (Optional)
# ============================================================================

# Maximum WebSocket message size in bytes
# Messages larger than this will be rejected
# Default: 1048576 (1 MB)
# MAX_MESSAGE_SIZE=1048576

# Maximum number of concurrent connections
# Helps prevent resource exhaustion
# Default: 100
# MAX_CONNECTIONS=100

# Enable message compression
# Reduces bandwidth but increases CPU usage
# Default: false
# ENABLE_COMPRESSION=false

# ============================================================================
# Security Settings (Optional)
# ============================================================================

# Enable TLS/SSL for WebSocket connections (wss://)
# Requires SSL_CERT_PATH and SSL_KEY_PATH to be set
# Default: false
# ENABLE_TLS=false

# Path to SSL certificate file (required if ENABLE_TLS=true)
# SSL_CERT_PATH=/path/to/cert.pem

# Path to SSL private key file (required if ENABLE_TLS=true)
# SSL_KEY_PATH=/path/to/key.pem

# ============================================================================
# Monitoring and Health Checks (Optional)
# ============================================================================

# Enable HTTP health check endpoint
# Provides /health endpoint for monitoring systems
# Default: true
# ENABLE_HEALTH_CHECK=true

# Port for health check HTTP server (if different from WebSocket port)
# Leave unset to use the same port as WebSocket server
# HEALTH_CHECK_PORT=8081

# ============================================================================
# Development/Debug Settings (Optional)
# ============================================================================

# Enable verbose message logging (logs all message payloads)
# WARNING: May expose sensitive data in logs and generate large log files
# Default: false
# VERBOSE_LOGGING=false

# Enable message routing audit log
# Logs every message forward with full details
# Default: false
# AUDIT_LOGGING=false
